#
# Calibre DRC Runset文件
# 用于设计规则检查
#
# 使用方法:
# calibre -drc -hier -turbo -64 design.drc
#

# ============================================================================
# 1. 版图信息
# ============================================================================

# 输入版图文件
# TODO: 替换为实际的GDS文件路径
LAYOUT PATH "path/to/your_design.gds"
# LAYOUT PRIMARY "your_design"
# LAYOUT SYSTEM GDSII

# 或使用DEF格式（如果适用）
# LAYOUT PATH "path/to/your_design.def"
# LAYOUT PRIMARY "your_design"
# LAYOUT SYSTEM DEF

# 版图过滤器（可选）
# LAYOUT FILTER "design_filter.txt"

# ============================================================================
# 2. 版图数据库
# ============================================================================

DATABASE PRIMARY "your_design"
DATABASE SYSTEM GDSII

# ============================================================================
# 3. 单位和比例
# ============================================================================

# 单位设置
LAYOUT UNITS MICRONS

# 比例设置（如果需要）
# SCALE FACTOR 1000

# ============================================================================
# 4. 工艺文件
# ============================================================================

# 工艺规则文件
# TODO: 替换为实际的工艺文件路径
# LAYER MAP "tech_layer.map"

# GDS映射文件
# GDS MAP FILE "gds_map.txt"

# ============================================================================
# 5. DRC规则定义
# ============================================================================

# 基础规则示例
# TODO: 根据实际工艺规则文件调整这些规则
# 这些规则通常包含在单独的规则文件中

# 金属宽度规则
# WIDTH 0.06 M1 0.08
# WIDTH 0.08 M2 0.10
# WIDTH 0.10 M3 0.12
# WIDTH 0.12 M4 0.14
# WIDTH 0.14 M5 0.16

# 金属间距规则
# SPACING 0.06 M1 M1 0.08
# SPACING 0.06 M2 M2 0.08
# SPACING 0.08 M3 M3 0.10
# SPACING 0.10 M4 M4 0.12
# SPACING 0.12 M5 M5 0.14

# 交叉层间距
# SPACING 0.06 M1 M2 0.08
# SPACING 0.06 M2 M3 0.08
# SPACING 0.08 M3 M4 0.10
# SPACING 0.10 M4 M5 0.12

# 最小面积规则
# AREA 0.01 M1 0.015
# AREA 0.015 M2 0.02
# AREA 0.02 M3 0.025
# AREA 0.025 M4 0.03
# AREA 0.03 M5 0.035

# ============================================================================
# 6. 天线效应规则
# ============================================================================

# 天线比率规则
# TODO: 根据实际工艺规则调整
# ANTENNA RATIO 100:1 M1
# ANTENNA RATIO 150:1 M2
# ANTENNA RATIO 200:1 M3
# ANTENNA RATIO 250:1 M4
# ANTENNA RATIO 300:1 M5

# 天线门比率规则
# ANTENNA GATE RATIO 5000:1 M1
# ANTENNA GATE RATIO 6000:1 M2
# ANTENNA GATE RATIO 7000:1 M3
# ANTENNA GATE RATIO 8000:1 M4
# ANTENNA GATE RATIO 9000:1 M5

# 差分天线规则
# DIFF ANTENNA RATIO 1000:1 M1
# DIFF ANTENNA RATIO 1500:1 M2
# DIFF ANTENNA RATIO 2000:1 M3

# ============================================================================
# 7. 电源网络规则
# ============================================================================

# 电源网络连接检查
# TODO: 根据实际设计定义电源网络名称
# CONNECTED {VDD VSS}

# 最小金属宽度（电源）
# MIN WIDTH POWER 0.5

# 最小间距（电源）
# MIN SPACING POWER 0.5

# 电源密度检查
# DENSITY MIN 0.3 POWER

# ============================================================================
# 8. 通孔规则
# ============================================================================

# 通孔1规则
# VIA1 MIN WIDTH 0.06
# VIA1 MIN SPACING 0.06
# VIA1 MIN ENCLOSURE 0.02

# 通孔2规则
# VIA2 MIN WIDTH 0.08
# VIA2 MIN SPACING 0.08
# VIA2 MIN ENCLOSURE 0.02

# 通孔阵列规则
# VIA ARRAY MAX WIDTH 5.0
# VIA ARRAY MAX HEIGHT 5.0

# ============================================================================
# 9. 多边形规则
# ============================================================================

# 非正交规则
# NONORTHOGONAL MAX DEVIATION 45

# 最小边数
# MIN SIDES 4

# 最小内角
# MIN INNER ANGLE 90

# ============================================================================
# 10. 接触规则
# ============================================================================

# 最小接触尺寸
# CONTACT MIN WIDTH 0.06
# CONTACT MIN HEIGHT 0.06

# 接触间距
# CONTACT MIN SPACING 0.06

# 接触包围
# CONTACT MIN ENCLOSURE 0.02

# ============================================================================
# 11. 有源区规则
# ============================================================================

# 最小有源区宽度
# ACTIVE MIN WIDTH 0.2

# 最小有源区间距
# ACTIVE MIN SPACING 0.2

# N阱规则
# N WELL MIN WIDTH 0.5
# N WELL MIN SPACING 0.5
# N WELL MIN ENCLOSURE 0.2

# P阱规则
# P WELL MIN WIDTH 0.5
# P WELL MIN SPACING 0.5
# P WELL MIN ENCLOSURE 0.2

# ============================================================================
# 12. 多晶硅规则
# ============================================================================

# 最小多晶硅宽度
# POLY MIN WIDTH 0.1

# 最小多晶硅间距
# POLY MIN SPACING 0.1

# 有源区与多晶硅间距
# ACTIVE POLY MIN SPACING 0.1

# 多晶硅与有源区包围
# POLY ACTIVE MIN ENCLOSURE 0.05

# ============================================================================
# 13. 金属填充规则
# ============================================================================

# 金属填充密度
# DENSITY MIN 0.2 M1
# DENSITY MAX 0.5 M1

# 填充图案最小宽度
# FILL MIN WIDTH 0.05

# 填充图案最大宽度
# FILL MAX WIDTH 10.0

# 填充图案最小间距
# FILL MIN SPACING 0.05

# ============================================================================
# 14. 对称性规则
# ============================================================================

# 对称单元规则
# SYMMETRY X

# 旋转规则
# ROTATION 0 90 180 270

# 反射规则
# REFLECTION X Y

# ============================================================================
# 15. DRC结果输出
# ============================================================================

# 结果数据库
DRC RESULTS DATABASE "your_design.drc.results"

# 结果摘要
DRC SUMMARY DATABASE "your_design.drc.summary"

# 结果报告
DRC REPORT "your_design.drc.rpt"

# 结果格式
DRC RESULTS FORMAT ASCII

# 违例报告数量
DRC MAXIMUM RESULTS ALL

# ============================================================================
# 16. 层次规则
# ============================================================================

# 层次模式
HIERARCHICAL

# 或平面模式
# FLAT

# 层次报告级别
HIERARCHY DEPTH LEVEL 3

# 单元检查
# SKIP CELLS "well_tap_cell*"

# ============================================================================
# 17. 性能选项
# ============================================================================

# 并行处理
# CORES 8

# 内存限制
# MEMORY LIMIT 16

# 优化级别
# OPTIMIZE LEVEL HIGH

# TURBO模式
TURBO

# 64位模式
64BIT

# ============================================================================
# 18. 过滤和排除规则
# ============================================================================

# 排除规则文件
# EXCLUDE RULE FILE "exclude_rules.txt"

# 忽略单元
# IGNORE CELLS "fill_cell* decap_cell*"

# 忽略层
# IGNORE LAYERS "METAL_FILL*"

# 忽略区域
# IGNORE RECTANGLE {0 0 100 100}

# ============================================================================
# 19. 报告选项
# ============================================================================

# 详细报告
# VERBOSE

# 摘要报告
# SUMMARY

# 统计报告
# STATS

# 按层分组
# GROUP BY LAYER

# 按规则类型分组
# GROUP BY RULE TYPE

# 按严重性分组
# GROUP BY SEVERITY

# ============================================================================
# 20. 附加规则文件
# ============================================================================

# 包含外部规则文件
# INCLUDE "additional_rules.txt"

# 或使用规则库
# RULE LIBRARY "tech_rules.lib"
