# YaoGuang SoC CV测试点详细说明

**文档版本**: v1.0  
**编制日期**: 2026年1月18日  
**编制人**: CV验证团队

---

## 1. 概述

### 1.1 文档目的

本文档详细描述YaoGuang SoC芯片CV系统级验证的所有测试点，包括每个测试点的测试目的、测试步骤、预期结果和判定标准。验证工程师可根据本文档执行测试并判断测试通过与否。

### 1.2 测试点分类

| 类别 | 编号范围 | 描述 |
|------|---------|------|
| Boot测试 | CV-BOOT-001 ~ CV-BOOT-045 | 系统启动相关测试 |
| DDR测试 | CV-DDR-001 ~ CV-DDR-128 | 内存子系统测试 |
| 外设测试 | CV-PERIPH-001 ~ CV-PERIPH-256 | 外设功能测试 |
| 中断测试 | CV-INT-001 ~ CV-INT-089 | 中断系统测试 |
| DMA测试 | CV-DMA-001 ~ CV-DMA-067 | DMA传输测试 |
| 安全测试 | CV-SAFETY-001 ~ CV-SAFETY-078 | 安全机制测试 |
| 性能测试 | CV-PERF-001 ~ CV-PERF-034 | 性能基准测试 |
| FPGA测试 | CV-FPGA-001 ~ CV-FPGA-056 | FPGA原型测试 |

---

## 2. Boot测试点

### 2.1 ROM启动测试 (CV-BOOT-001 ~ CV-BOOT-008)

#### CV-BOOT-001: ROM代码执行验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证ROM中的Boot代码能够正确执行 |
| **测试步骤** | 1. 上电复位后捕获ROM执行开始信号<br>2. 检查ROM输出到SRAM的指令数据<br>3. 验证PC寄存器正确加载 |
| **预期结果** | ROM代码正确执行，PC指向正确地址，指令被正确加载到SRAM |
| **判定标准** | PASS: ROM执行信号有效，指令数据正确<br>FAIL: ROM无输出或输出错误 |

#### CV-BOOT-002: 复位释放顺序验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证复位释放后各模块按正确顺序初始化 |
| **测试步骤** | 1. 触发系统复位<br>2. 监控各模块复位释放信号<br>3. 验证释放顺序符合设计规格 |
| **预期结果** | 复位按照porst_n → cpu → peripheral → noc顺序释放 |
| **判定标准** | PASS: 复位释放顺序正确<br>FAIL: 顺序错误或同时释放 |

#### CV-BOOT-003: 时钟使能序列验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证主时钟使能后各PLL正确锁定 |
| **测试步骤** | 1. 使能系统主时钟<br>2. 监控各PLL锁定状态<br>3. 验证PLL锁定顺序和时间 |
| **预期结果** | 主PLL首先锁定，随后各子PLL依次锁定，总锁定时间<100us |
| **判定标准** | PASS: PLL锁定顺序和时间符合规格<br>FAIL: 锁定失败或超时 |

#### CV-BOOT-004: SRAM初始化验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证SRAM在复位后正确初始化为已知状态 |
| **测试步骤** | 1. 复位后读取SRAM所有地址<br>2. 检查数据是否为初始化值(0xDEADBEEF) |
| **预期结果** | SRAM所有地址初始化为0xDEADBEEF |
| **判定标准** | PASS: 所有地址初始化正确<br>FAIL: 存在未初始化地址 |

#### CV-BOOT-005: 看门狗定时器初始化

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证看门狗在Boot阶段正确初始化并使能 |
| **测试步骤** | 1. 检查看门狗寄存器初始值<br>2. 验证看门狗计数器开始计数<br>3. 确认超时值设置为2秒 |
| **预期结果** | 看门狗正确初始化，计数器开始工作 |
| **判定标准** | PASS: 看门狗初始化正确<br>FAIL: 初始化失败或计数器不工作 |

#### CV-BOOT-006: 中断控制器初始化

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证GIC-600中断控制器正确初始化 |
| **测试步骤** | 1. 读取GIC状态寄存器<br>2. 验证所有中断源禁用<br>3. 检查优先级寄存器默认值 |
| **预期结果** | GIC正确初始化，所有中断禁用，优先级为默认值 |
| **判定标准** | PASS: GIC初始化正确<br>FAIL: 寄存器值不正确 |

#### CV-BOOT-007: DDR控制器初始化

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DDR控制器在Boot阶段完成初始化 |
| **测试步骤** | 1. 执行DDR控制器初始化序列<br>2. 等待DDR初始化完成信号<br>3. 验证DDR状态寄存器 |
| **预期结果** | DDR控制器完成初始化，可以进行读写操作 |
| **判定标准** | PASS: DDR初始化完成，状态正常<br>FAIL: 初始化失败或超时 |

#### CV-BOOT-008: Boot完成信号验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证BootROM执行完成后发出Boot完成信号 |
| **测试步骤** | 1. 监控Boot完成信号<br>2. 确认Boot完成后跳转到Bootloader |
| **预期结果** | Boot完成后boot_done信号拉高，CPU开始执行Bootloader |
| **判定标准** | PASS: boot_done信号正确<br>FAIL: 信号错误或未触发 |

### 2.2 Bootloader测试 (CV-BOOT-009 ~ CV-BOOT-020)

#### CV-BOOT-009: U-Boot加载验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证U-Boot能够从Flash加载到DDR |
| **测试步骤** | 1. BootROM加载U-Boot到SRAM<br>2. U-Boot初始化DDR控制器<br>3. U-Boot将自身复制到DDR<br>4. 跳转到DDR执行U-Boot |
| **预期结果** | U-Boot成功加载到DDR并开始执行 |
| **判定标准** | PASS: U-Boot在DDR中正确执行<br>FAIL: 加载失败或执行错误 |

#### CV-BOOT-010: DDR容量检测

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证U-Boot能够正确检测DDR容量 |
| **测试步骤** | 1. U-Boot执行内存检测<br>2. 读取内存大小寄存器<br>3. 与已知容量对比 |
| **预期结果** | 检测到的DDR容量与实际容量一致(8GB) |
| **判定标准** | PASS: 容量检测正确<br>FAIL: 检测值与实际不符 |

#### CV-BOOT-011: 环境变量初始化

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证U-Boot环境变量正确初始化 |
| **测试步骤** | 1. 检查默认环境变量<br>2. 验证关键变量设置 |
| **预期结果** | 环境变量包含正确的默认值(bootcmd, baudrate等) |
| **判定标准** | PASS: 环境变量正确<br>FAIL: 变量缺失或错误 |

#### CV-BOOT-12: Flash读写验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证从Flash读取数据正确 |
| **测试步骤** | 1. 从Flash读取已知数据<br>2. 与预期数据对比 |
| **预期结果** | 读取数据与预期数据完全一致 |
| **判定标准** | PASS: 数据一致<br>FAIL: 数据错误 |

#### CV-BOOT-013: 网络初始化

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证以太网控制器在U-Boot下正确初始化 |
| **测试步骤** | 1. 初始化以太网控制器<br>2. 读取MAC地址<br>3. 配置IP地址 |
| **预期结果** | 以太网控制器初始化成功，获得有效MAC和IP |
| **判定标准** | PASS: 网络初始化成功<br>FAIL: 初始化失败 |

#### CV-BOOT-014: TFTP下载验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证U-Boot能够通过TFTP下载文件 |
| **测试步骤** | 1. 配置TFTP服务器地址<br>2. 执行tftp命令下载测试文件<br>3. 验证下载数据正确性 |
| **预期结果** | 文件成功下载，数据校验通过 |
| **判定标准** | PASS: 下载成功且数据正确<br>FAIL: 下载失败或数据错误 |

#### CV-BOOT-015: SD卡访问验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证从SD卡读取数据正确 |
| **测试步骤** | 1. 初始化SD卡控制器<br>2. 读取SD卡指定扇区<br>3. 验证数据正确性 |
| **预期结果** | SD卡初始化成功，数据读取正确 |
| **判定标准** | PASS: SD卡访问正常<br>FAIL: 初始化或读取失败 |

#### CV-BOOT-016: USB访问验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证从USB存储设备读取数据正确 |
| **测试步骤** | 1. 初始化USB主机控制器<br>2. 枚举USB设备<br>3. 读取USB存储数据 |
| **预期结果** | USB设备枚举成功，数据读取正确 |
| **判定标准** | PASS: USB访问正常<br>FAIL: 枚举或读取失败 |

#### CV-BOOT-017: Bootargs传递验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证Bootargs正确传递给Linux内核 |
| **测试步骤** | 1. 设置Bootargs<br>2. 启动内核<br>3. 在内核中读取Bootargs |
| **预期结果** | 内核收到的Bootargs与设置的值一致 |
| **判定标准** | PASS: Bootargs传递正确<br>FAIL: Bootargs错误或丢失 |

#### CV-BOOT-018: 设备树传递验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证设备树正确传递给Linux内核 |
| **测试步骤** | 1. 准备设备树Blob<br>2. 启动内核传递设备树<br>3. 在内核中解析设备树 |
| **预期结果** | 内核正确解析设备树，所有节点可访问 |
| **判定标准** | PASS: 设备树传递正确<br>FAIL: 解析失败或数据损坏 |

#### CV-BOOT-019: 内核镜像加载验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证Linux内核镜像正确加载到内存 |
| **测试步骤** | 1. 从Flash/SD卡读取内核镜像<br>2. 解压内核(如果需要)<br>3. 加载到指定内存地址 |
| **预期结果** | 内核镜像加载正确，校验通过 |
| **判定标准** | PASS: 内核加载成功<br>FAIL: 加载失败或校验错误 |

#### CV-BOOT-020: Jump to Kernel验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证U-Boot正确跳转到Linux内核执行 |
| **测试步骤** | 1. 设置内核启动参数<br>2. 跳转到内核入口地址<br>3. 确认内核开始执行 |
| **预期结果** | 成功跳转到内核，内核开始执行并输出启动信息 |
| **判定标准** | PASS: 内核启动成功<br>FAIL: 跳转失败或内核无输出 |

### 2.3 启动时间测试 (CV-BOOT-021 ~ CV-BOOT-030)

#### CV-BOOT-021: 上电到Bootloader启动时间

| 属性 | 内容 |
|------|------|
| **测试目的** | 测量从电源上电到U-Boot开始执行的时间 |
| **测试步骤** | 1. 记录电源上电时刻<br>2. 监控U-Boot开始执行信号<br>3. 计算时间差 |
| **预期结果** | 启动时间<100ms |
| **判定标准** | PASS: 启动时间≤100ms<br>FAIL: 启动时间>100ms |

#### CV-BOOT-022: Bootloader到内核启动时间

| 属性 | 内容 |
|------|------|
| **测试目的** | 测量从U-Boot到Linux内核启动的时间 |
| **测试步骤** | 1. 记录U-Boot完成时刻<br>2. 监控内核启动消息<br>3. 计算时间差 |
| **预期结果** | 内核启动时间<50ms |
| **判定标准** | PASS: 启动时间≤50ms<br>FAIL: 启动时间>50ms |

#### CV-BOOT-023: 完整启动时间

| 属性 | 内容 |
|------|------|
| **测试目的** | 测量从电源上电到Linux用户空间启动的完整时间 |
| **测试步骤** | 1. 记录电源上电时刻<br>2. 监控init进程启动<br>3. 计算时间差 |
| **预期结果** | 完整启动时间<200ms |
| **判定标准** | PASS: 启动时间≤200ms<br>FAIL: 启动时间>200ms |

#### CV-BOOT-024: 快速启动模式验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证快速启动模式下的启动时间 |
| **测试步骤** | 1. 使能快速启动模式<br>2. 测量启动时间<br>3. 验证功能完整性 |
| **预期结果** | 快速启动时间<100ms，功能正常 |
| **判定标准** | PASS: 快速启动达标<br>FAIL: 启动时间超标或功能异常 |

---

## 3. DDR测试点

### 3.1 基本读写测试 (CV-DDR-001 ~ CV-DDR-032)

#### CV-DDR-001: 单字节写读验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DDR控制器对单字节的读写功能 |
| **测试步骤** | 1. 向DDR地址0x80000000写入0xAA<br>2. 从相同地址读出<br>3. 对比读写数据 |
| **预期结果** | 读出数据与写入数据一致(0xAA) |
| **判定标准** | PASS: 数据一致<br>FAIL: 数据不一致或访问错误 |

#### CV-DDR-002: 半字(16bit)写读验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DDR控制器对16位数据的读写功能 |
| **测试步骤** | 1. 向DDR地址0x80000000写入0xBEEF<br>2. 从相同地址读出<br>3. 对比读写数据 |
| **预期结果** | 读出数据与写入数据一致(0xBEEF) |
| **判定标准** | PASS: 数据一致<br>FAIL: 数据不一致或访问错误 |

#### CV-DDR-003: 字(32bit)写读验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DDR控制器对32位数据的读写功能 |
| **测试步骤** | 1. 向DDR地址0x80000000写入0xDEADBEEF<br>2. 从相同地址读出<br>3. 对比读写数据 |
| **预期结果** | 读出数据与写入数据一致(0xDEADBEEF) |
| **判定标准** | PASS: 数据一致<br>FAIL: 数据不一致或访问错误 |

#### CV-DDR-004: 双字(64bit)写读验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DDR控制器对64位数据的读写功能 |
| **测试步骤** | 1. 向DDR地址0x80000000写入0x123456789ABCDEF0<br>2. 从相同地址读出<br>3. 对比读写数据 |
| **预期结果** | 读出数据与写入数据一致(0x123456789ABCDEF0) |
| **判定标准** | PASS: 数据一致<br>FAIL: 数据不一致或访问错误 |

#### CV-DDR-005: 顺序地址写读验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DDR控制器对顺序地址的连续读写功能 |
| **测试步骤** | 1. 从地址0x80000000开始顺序写入1KB数据<br>2. 从相同地址顺序读出<br>3. 对比所有数据 |
| **预期结果** | 所有读出数据与写入数据一致 |
| **判定标准** | PASS: 所有数据一致<br>FAIL: 存在不一致数据 |

#### CV-DDR-006: 随机地址写读验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DDR控制器对随机地址的读写功能 |
| **测试步骤** | 1. 生成100个随机地址<br>2. 向每个地址写入随机数据<br>3. 从相同地址读出并对比 |
| **预期结果** | 所有随机地址的读写数据一致 |
| **判定标准** | PASS: 所有随机地址测试通过<br>FAIL: 存在错误地址 |

#### CV-DDR-007: 边界地址写读验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DDR控制器在地址边界处的行为 |
| **测试步骤** | 1. 测试地址0x00000000, 0x00000001<br>2. 测试最高可用地址<br>3. 测试跨行边界地址 |
| **预期结果** | 所有边界地址读写正确 |
| **判定标准** | PASS: 边界地址测试通过<br>FAIL: 边界地址存在错误 |

#### CV-DDR-008: 跨行地址写读验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DDR控制器跨越行边界的读写功能 |
| **测试步骤** | 1. 确定DDR行大小(2KB)<br>2. 写入跨行数据(行首到行尾+下一行)<br>3. 读出并验证数据 |
| **预期结果** | 跨行读写数据正确 |
| **判定标准** | PASS: 跨行测试通过<br>FAIL: 跨行数据错误 |

---

## 4. 外设测试点

### 4.1 UART测试 (CV-PERIPH-001 ~ CV-PERIPH-032)

#### CV-PERIPH-001: UART基本发送测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证UART发送功能正常 |
| **测试步骤** | 1. 配置UART为115200-8-N-1<br>2. 发送字符串"Hello YaoGuang"<br>3. 通过loopback接收并验证 |
| **预期结果** | 发送数据与接收数据完全一致 |
| **判定标准** | PASS: 数据一致<br>FAIL: 数据错误或丢失 |

#### CV-PERIPH-002: UART波特率测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证UART在不同波特率下的通信质量 |
| **测试步骤** | 1. 测试9600, 115200, 230400, 460800, 921600, 3Mbps<br>2. 每个波特率发送1000字节数据<br>3. 统计错误率 |
| **预期结果** | 所有波特率下错误率为0% |
| **判定标准** | PASS: 所有波特率测试通过<br>FAIL: 存在波特率错误 |

#### CV-PERIPH-003: UART FIFO测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证UART FIFO功能正确 |
| **测试步骤** | 1. 使能发送和接收FIFO<br>2. 连续发送64字节数据<br>3. 验证FIFO不溢出且数据正确 |
| **预期结果** | FIFO工作正常，无数据丢失 |
| **判定标准** | PASS: FIFO测试通过<br>FAIL: FIFO溢出或数据丢失 |

#### CV-PERIPH-004: UART奇偶校验测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证UART奇偶校验功能 |
| **测试步骤** | 1. 配置UART为偶校验<br>2. 发送已知数据<br>3. 验证接收端正确检测校验 |
| **预期结果** | 奇偶校验功能正常，错误能被检测 |
| **判定标准** | PASS: 奇偶校验工作正常<br>FAIL: 校验功能异常 |

### 4.2 SPI测试 (CV-PERIPH-033 ~ CV-PERIPH-080)

#### CV-PERIPH-033: SPI基本传输测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证SPI主模式基本传输功能 |
| **测试步骤** | 1. 配置SPI为主模式<br>2. 发送0x55, 0xAA交替数据<br>3. 通过loopback验证接收 |
| **预期结果** | 发送数据与接收数据一致 |
| **判定标准** | PASS: 传输测试通过<br>FAIL: 数据错误 |

#### CV-PERIPH-034: SPI时钟极性验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证SPI时钟极性(CPOL)设置 |
| **测试步骤** | 1. 测试CPOL=0(时钟低电平空闲)<br>2. 测试CPOL=1(时钟高电平空闲)<br>3. 验证两种模式都能正确传输 |
| **预期结果** | 两种CPOL模式均能正常工作 |
| **判定标准** | PASS: 两种模式测试通过<br>FAIL: 某种模式失败 |

#### CV-PERIPH-035: SPI时钟相位验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证SPI时钟相位(CPHA)设置 |
| **测试步骤** | 1. 测试CPHA=0(第一个时钟沿采样)<br>2. 测试CPHA=1(第二个时钟沿采样)<br>3. 验证两种模式都能正确传输 |
| **预期结果** | 两种CPHA模式均能正常工作 |
| **判定标准** | PASS: 两种模式测试通过<br>FAIL: 某种模式失败 |

#### CV-PERIPH-036: SPI片选验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证SPI片选信号生成 |
| **测试步骤** | 1. 配置多个片选信号<br>2. 依次选中每个设备<br>3. 验证片选信号正确 |
| **预期结果** | 片选信号在选中时为低电平，其他时间为高电平 |
| **判定标准** | PASS: 片选功能正常<br>FAIL: 片选信号异常 |

#### CV-PERIPH-037: SPI多字节传输验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证SPI多字节连续传输 |
| **测试步骤** | 1. 配置为连续传输模式<br>2. 发送256字节数据<br>3. 验证数据正确性 |
| **预期结果** | 多字节传输正确，无丢失或重复 |
| **判定标准** | PASS: 多字节传输通过<br>FAIL: 存在传输错误 |

#### CV-PERIPH-038: SPI高速传输验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证SPI在最高频率下的传输质量 |
| **测试步骤** | 1. 配置SPI为最高频率(50MHz)<br>2. 发送1MB测试数据<br>3. 统计错误率 |
| **预期结果** | 高速传输错误率为0% |
| **判定标准** | PASS: 高速传输通过<br>FAIL: 存在传输错误 |

### 4.3 I2C测试 (CV-PERIPH-081 ~ CV-PERIPH-116)

#### CV-PERIPH-081: I2C基本传输测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证I2C主模式基本传输功能 |
| **测试步骤** | 1. 配置I2C为100KHz标准模式<br>2. 发送设备地址0x50<br>3. 写入并读取数据 |
| **预期结果** | I2C传输完成，ACK正确响应 |
| **判定标准** | PASS: 传输测试通过<br>FAIL: 无ACK或传输错误 |

#### CV-PERIPH-082: I2C时钟频率测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证I2C在不同频率下的通信 |
| **测试步骤** | 1. 测试100KHz(标准模式)<br>2. 测试400KHz(快速模式)<br>3. 测试1MHz(快速模式+) |
| **预期结果** | 所有频率下传输正确 |
| **判定标准** | PASS: 所有频率测试通过<br>FAIL: 某种频率失败 |

#### CV-PERIPH-083: I2C从设备地址匹配测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证I2C从设备地址匹配功能 |
| **测试步骤** | 1. 配置从设备地址为0x68<br>2. 主设备发送地址匹配请求<br>3. 验证从设备正确响应ACK |
| **预期结果** | 地址匹配正确，ACK响应正常 |
| **判定标准** | PASS: 地址匹配测试通过<br>FAIL: 地址匹配失败 |

#### CV-PERIPH-084: I2C重复起始条件测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证I2C重复起始条件(Repeated Start) |
| **测试步骤** | 1. 发送起始条件<br>2. 发送写地址<br>3. 发送寄存器地址<br>4. 发送重复起始条件<br>5. 发送读地址并读取数据 |
| **预期结果** | 重复起始条件正确，数据读取正确 |
| **判定标准** | PASS: 重复起始测试通过<br>FAIL: 条件错误或数据错误 |

#### CV-PERIPH-085: I2C多字节传输测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证I2C多字节连续读写 |
| **测试步骤** | 1. 写入32字节到连续地址<br>2. 读出32字节数据<br>3. 对比验证 |
| **预期结果** | 多字节传输正确 |
| **判定标准** | PASS: 多字节测试通过<br>FAIL: 数据错误 |

#### CV-PERIPH-086: I2C总线仲裁测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证I2C多主设备总线仲裁 |
| **测试步骤** | 1. 配置两个主设备<br>2. 同时发起传输<br>3. 验证仲裁获胜方正确 |
| **预期结果** | 仲裁功能正常，获胜方正确完成传输 |
| **判定标准** | PASS: 仲裁测试通过<br>FAIL: 仲裁错误 |

---

## 5. 中断测试点

### 5.1 中断触发测试 (CV-INT-001 ~ CV-INT-024)

#### CV-INT-001: 软件中断触发测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证软件生成中断(SGI)功能 |
| **测试步骤** | 1. 配置GIC启用SGI中断<br>2. 通过软件触发SGI 0<br>3. 验证中断被CPU接收 |
| **预期结果** | CPU接收到SGI中断，中断ID正确 |
| **判定标准** | PASS: 中断触发成功<br>FAIL: 中断未触发或ID错误 |

#### CV-INT-002: 私有外设中断触发测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证私有外设中断(PPI)功能 |
| **测试步骤** | 1. 配置私有定时器中断<br>2. 触发定时器中断<br>3. 验证CPU接收 |
| **预期结果** | CPU接收到PPI中断 |
| **判定标准** | PASS: PPI中断触发成功<br>FAIL: 中断未触发 |

#### CV-INT-003: 共享外设中断触发测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证共享外设中断(SPI)功能 |
| **测试步骤** | 1. 配置UART中断为SPI<br>2. 触发UART接收中断<br>3. 验证中断被CPU接收 |
| **预期结果** | CPU接收到SPI中断，中断ID正确 |
| **判定标准** | PASS: SPI中断触发成功<br>FAIL: 中断未触发或ID错误 |

#### CV-INT-004: 外部引脚中断触发测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证外部引脚中断功能 |
| **测试步骤** | 1. 配置外部中断引脚<br>2. 外部触发中断信号<br>3. 验证中断被CPU接收 |
| **预期结果** | CPU接收到外部中断 |
| **判定标准** | PASS: 外部中断触发成功<br>FAIL: 中断未触发 |

---

## 6. DMA测试点

### 6.1 内存到内存传输测试 (CV-DMA-001 ~ CV-DMA-016)

#### CV-DMA-001: 基础内存到内存传输

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DMA基本内存到内存传输功能 |
| **测试步骤** | 1. 配置DMA通道0为内存到内存模式<br>2. 设置源地址0x80000000，目标地址0x90000000<br>3. 设置传输长度1KB<br>4. 启动DMA传输<br>5. 等待传输完成中断<br>6. 验证目标地址数据 |
| **预期结果** | 数据正确传输，无丢失或错误 |
| **判定标准** | PASS: 传输成功，数据正确<br>FAIL: 传输失败或数据错误 |

#### CV-DMA-002: 突发传输验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DMA突发传输功能 |
| **测试步骤** | 1. 配置DMA为突发传输模式<br>2. 设置突发长度为16<br>3. 执行64KB数据传输<br>4. 验证传输完整性 |
| **预期结果** | 突发传输正确完成 |
| **判定标准** | PASS: 突发传输通过<br>FAIL: 突发传输错误 |

#### CV-DMA-003: 源地址对齐验证

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证DMA对不同源地址对齐的支持 |
| **测试步骤** | 1. 测试字节对齐地址<br>2. 测试半字对齐地址<br>3. 测试字对齐地址<br>4. 测试双字对齐地址 |
| **预期结果** | 所有对齐方式传输正确 |
| **判定标准** | PASS: 所有对齐测试通过<br>FAIL: 某种对齐方式失败 |

---

## 7. 安全测试点

### 7.1 ECC测试 (CV-SAFETY-001 ~ CV-SAFETY-022)

#### CV-SAFETY-001: ECC单比特翻转纠正测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证ECC对单比特错误的检测和纠正功能 |
| **测试步骤** | 1. 向内存写入64位数据<br>2. 注入单比特翻转错误<br>3. 读取数据并验证<br>4. 验证错误标志和纠正数据 |
| **预期结果** | ECC检测并纠正单比特错误，数据恢复正确 |
| **判定标准** | PASS: 单比特错误纠正成功<br>FAIL: 错误未被检测或纠正 |

#### CV-SAFETY-002: ECC双比特错误检测测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证ECC对双比特错误的检测功能 |
| **测试步骤** | 1. 向内存写入64位数据<br>2. 注入双比特翻转错误<br>3. 读取数据并验证<br>4. 验证错误检测信号 |
| **预期结果** | ECC检测到双比特错误，触发不可纠正错误中断 |
| **判定标准** | PASS: 双比特错误检测成功<br>FAIL: 错误未被检测 |

### 7.2 双核锁步测试 (CV-SAFETY-023 ~ CV-SAFETY-040)

#### CV-SAFETY-023: 双核锁步比较器功能测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证双核锁步比较器的输出比较功能 |
| **测试步骤** | 1. 配置双核锁步模式<br>2. 同步启动两个CPU核<br>3. 执行相同指令序列<br>4. 检查比较器输出 |
| **预期结果** | 两个核输出完全一致，比较器无报错 |
| **判定标准** | PASS: 锁步比较正常<br>FAIL: 比较器报不一致 |

#### CV-SAFETY-024: 锁步错误注入测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证双核锁步对计算错误的检测 |
| **测试步骤** | 1. 配置双核锁步模式<br>2. 注入一个CPU核的临时错误<br>3. 验证比较器检测到不一致 |
| **预期结果** | 比较器检测到不一致，触发锁步错误中断 |
| **判定标准** | PASS: 错误注入检测成功<br>FAIL: 错误未被检测 |

---

## 8. 性能测试点

### 8.1 DDR带宽测试 (CV-PERF-001 ~ CV-PERF-006)

#### CV-PERF-001: DDR峰值带宽测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 测量DDR控制器的峰值带宽 |
| **测试步骤** | 1. 配置DDR为最高性能模式<br>2. 执行连续大块数据(256MB)读写<br>3. 测量传输时间<br>4. 计算带宽 |
| **预期结果** | 峰值带宽≥25GB/s |
| **判定标准** | PASS: 带宽≥25GB/s<br>FAIL: 带宽<25GB/s |

#### CV-PERF-002: DDR随机访问带宽测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 测量DDR的随机访问带宽 |
| **测试步骤** | 1. 生成1M个随机访问请求<br>2. 执行随机读写<br>3. 测量总时间<br>4. 计算随机带宽 |
| **预期结果** | 随机访问带宽≥2GB/s |
| **判定标准** | PASS: 随机带宽≥2GB/s<br>FAIL: 随机带宽<2GB/s |

---

## 9. FPGA测试点

### 9.1 时钟频率测试 (CV-FPGA-001 ~ CV-FPGA-008)

#### CV-FPGA-001: FPGA时钟频率扫描测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 验证FPGA原型在不同频率下的稳定性 |
| **测试步骤** | 1. 从50MHz开始，逐步提高频率<br>2. 在每个频率运行基本功能测试<br>3. 记录最高稳定频率 |
| **预期结果** | 最高稳定频率≥125MHz |
| **判定标准** | PASS: 最高频率≥125MHz<br>FAIL: 最高频率<125MHz |

#### CV-FPGA-002: FPGA时钟抖动测试

| 属性 | 内容 |
|------|------|
| **测试目的** | 测量FPGA时钟抖动 |
| **测试步骤** | 1. 使用示波器测量时钟信号<br>2. 测量抖动参数<br>3. 验证抖动在规格范围内 |
| **预期结果** | 时钟抖动<100ps |
| **判定标准** | PASS: 抖动<100ps<br>FAIL: 抖动超标 |

---

**文档结束**
