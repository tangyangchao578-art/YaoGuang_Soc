# ISP (Image Signal Processor) 验证计划

| 文档版本 | V1.0 |
|---------|------|
| 创建日期 | 2026-01-18 |
| 状态 | 进行中 |
| ASIL 等级 | ASIL-B |

---

## 1. 模块概述

### 1.1 功能描述
ISP 图像信号处理器，支持高动态范围成像。

### 1.2 验证范围
- Bayer 原始图像处理
- 噪声 reduction
- 自动白平衡
- 颜色校正
- Gamma 校正

---

## 2. 测试点列表

### 2.1 图像处理测试

| ID | 测试点 | 优先级 | 类型 | 期望结果 |
|----|--------|--------|------|----------|
| ISP-IMG-001 | Bayer 去马赛克 | P0 | 功能 | 正确 |
| ISP-IMG-002 | 噪声 reduction | P0 | 功能 | 正确 |
| ISP-IMG-003 | 自动白平衡 | P0 | 功能 | 正确 |
| ISP-IMG-004 | 颜色校正矩阵 | P0 | 功能 | 正确 |
| ISP-IMG-005 | Gamma 校正 | P0 | 功能 | 正确 |

### 2.2 动态范围测试

| ID | 测试点 | 优先级 | 类型 | 期望结果 |
|----|--------|--------|------|----------|
| ISP-HDR-001 | HDR 合成 | P0 | 功能 | 正确 |
| ISP-HDR-002 | 色调映射 | P0 | 功能 | 正确 |
| ISP-HDR-003 | 局部对比度增强 | P1 | 功能 | 正确 |

### 2.3 接口测试

| ID | 测试点 | 优先级 | 类型 | 期望结果 |
|----|--------|--------|------|----------|
| ISP-IF-001 | CSI-2 接收 | P0 | 功能 | 正确 |
| ISP-IF-002 | MIPI D-PHY | P0 | 功能 | 正确 |
| ISP-IF-003 | 内存接口 | P0 | 功能 | 正确 |

### 2.4 性能测试

| ID | 测试点 | 优先级 | 类型 | 期望结果 |
|----|--------|--------|------|----------|
| ISP-PERF-001 | 处理吞吐量 | P0 | 性能 | ≥ 8K@30fps |
| ISP-PERF-002 | 延迟 | P1 | 性能 | 延迟符合 |

---

## 3. 验证环境

```
isp_tb/
├── isp_env.sv
├── isp_agent.sv
├── isp_scoreboard.sv
└── isp_coverage.sv
```

---

## 4. 覆盖率要求

| 覆盖率类型 | 目标 |
|------------|------|
| 代码覆盖率 | ≥ 95% |
| 功能覆盖率 | 100% |
| 断言覆盖率 | ≥ 90% |

---

## 5. 测试用例清单

| 用例名称 | 对应测试点 | 优先级 |
|----------|------------|--------|
| test_isp_pipeline | ISP-IMG-001~005 | P0 |
| test_isp_hdr | ISP-HDR-001~003 | P0 |
| test_isp_interface | ISP-IF-001~003 | P0 |
| test_isp_performance | ISP-PERF-001~002 | P0 |

---

**创建日期**: 2026-01-18
