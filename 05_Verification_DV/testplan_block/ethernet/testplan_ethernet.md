# Ethernet Controller 验证计划

| 文档版本 | V1.0 |
|---------|------|
| 创建日期 | 2026-01-18 |
| 状态 | 进行中 |
| ASIL 等级 | QM |

---

## 1. 模块概述

### 1.1 功能描述
千兆以太网控制器，支持 RGMII/GMII 接口。

### 1.2 验证范围
- MAC 子层
- PHY 接口
- DMA 引擎
- 流量控制

---

## 2. 测试点列表

### 2.1 MAC 层测试

| ID | 测试点 | 优先级 | 类型 | 期望结果 |
|----|--------|--------|------|----------|
| ETH-MAC-001 | 帧收发 | P0 | 功能 | 正确 |
| ETH-MAC-002 | MAC 地址过滤 | P0 | 功能 | 正确 |
| ETH-MAC-003 | VLAN 支持 | P1 | 功能 | 正确 |
| ETH-MAC-004 | CRC 校验 | P0 | 功能 | 正确 |
| ETH-MAC-005 | 帧长度检查 | P0 | 功能 | 正确 |

### 2.2 DMA 测试

| ID | 测试点 | 优先级 | 类型 | 期望结果 |
|----|--------|--------|------|----------|
| ETH-DMA-001 | 描述符处理 | P0 | 功能 | 正确 |
| ETH-DMA-002 | Scatter-Gather | P0 | 功能 | 正确 |
| ETH-DMA-003 | 环形缓冲区 | P0 | 功能 | 正确 |
| ETH-DMA-004 | 传输完成中断 | P0 | 功能 | 正确 |

### 2.3 流量控制测试

| ID | 测试点 | 优先级 | 类型 | 期望结果 |
|----|--------|--------|------|----------|
| ETH-FC-001 | PAUSE 帧 | P0 | 功能 | 正确 |
| ETH-FC-002 | 背压 | P1 | 功能 | 正确 |
| ETH-FC-003 | 优先级流控 | P2 | 功能 | 正确 |

### 2.4 PHY 接口测试

| ID | 测试点 | 优先级 | 类型 | 期望结果 |
|----|--------|--------|------|----------|
| ETH-PHY-001 | RGMII 时序 | P0 | 功能 | 正确 |
| ETH-PHY-002 | MIIM 访问 | P0 | 功能 | 正确 |
| ETH-PHY-003 | 链路状态 | P0 | 功能 | 正确 |

---

## 3. 验证环境

```
ethernet_tb/
├── ethernet_env.sv
├── ethernet_agent.sv
├── ethernet_scoreboard.sv
└── ethernet_coverage.sv
```

---

## 4. 覆盖率要求

| 覆盖率类型 | 目标 |
|------------|------|
| 代码覆盖率 | ≥ 95% |
| 功能覆盖率 | 100% |
| 断言覆盖率 | ≥ 90% |

---

## 5. 测试用例清单

| 用例名称 | 对应测试点 | 优先级 |
|----------|------------|--------|
| test_eth_mac_basic | ETH-MAC-001~005 | P0 |
| test_eth_dma | ETH-DMA-001~004 | P0 |
| test_eth_flow_control | ETH-FC-001~003 | P1 |
| test_eth_phy_if | ETH-PHY-001~003 | P0 |

---

**创建日期**: 2026-01-18
