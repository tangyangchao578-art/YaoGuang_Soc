# YaoGuang SoC 回归测试报告模板

## 📋 执行摘要

| 指标 | 值 | 趋势 |
|------|-----|------|
| **回归套件** | `{suite_name}` | - |
| **执行时间** | `{timestamp}` | ⬆️ 较上次 +{duration_delta} |
| **总测试数** | `{total_tests}` | ⬆️ +{new_tests} |
| **通过** | `{passed}` | ✅ |
| **失败** | `{failed}` | ❌ |
| **跳过** | `{skipped}` | ⏭️ |
| **通过率** | `{pass_rate:.2f}%` | {trend_icon} |
| **执行时长** | `{total_duration:.0f}秒` | ⏱️ |

---

## 📊 覆盖率汇总

### 总体覆盖率

```
代码覆盖率: {code_cov:.1f}% ████████████████░░
功能覆盖率: {func_cov:.1f}% █████████████████░
断言覆盖率: {assert_cov:.1f}% ██████████████████
分支覆盖率: {branch_cov:.1f}% ███████████████░░░
条件覆盖率: {cond_cov:.1f}% ████████████████░░
翻转覆盖率: {toggle_cov:.1f}% ██████████████░░░░
FSM覆盖率:  {fsm_cov:.1f}% █████████████████░
```

### 模块级覆盖率

| 模块 | 代码 | 功能 | 断言 | 分支 | 目标 | 状态 |
|------|------|------|------|------|------|------|
| cpu_isc | 95.2% | 92.1% | 98.5% | 94.0% | 95% | ✅ |
| axi_bridge | 97.8% | 94.5% | 99.1% | 96.2% | 95% | ✅ |
| noc_router | 93.5% | 89.2% | 95.8% | 92.1% | 90% | ✅ |
| interrupt_ctrl | 96.1% | 91.8% | 97.2% | 94.8% | 95% | ✅ |
| timer | 98.2% | 95.6% | 99.5% | 97.0% | 95% | ✅ |
| uart | 94.7% | 88.3% | 93.6% | 92.5% | 90% | ✅ |
| spi | 92.3% | 85.7% | 91.2% | 90.1% | 90% | ✅ |
| i2c | 91.8% | 84.2% | 90.5% | 89.3% | 90% | ✅ |
| gpio | 97.5% | 93.8% | 98.0% | 96.1% | 95% | ✅ |
| wdt | 99.1% | 96.2% | 99.8% | 98.5% | 95% | ✅ |
| pwm | 93.8% | 87.5% | 92.1% | 91.2% | 90% | ✅ |
| safety_island | 96.5% | 93.2% | 98.8% | 95.0% | 95% | ✅ |
| dma | 94.2% | 89.8% | 95.6% | 92.8% | 95% | ⚠️ |
| sram_ctrl | 97.1% | 94.5% | 98.2% | 96.0% | 95% | ✅ |
| flash_ctrl | 91.5% | 83.2% | 89.8% | 88.5% | 90% | ✅ |
| cache_coh | 89.2% | 82.1% | 88.5% | 86.2% | 90% | ⚠️ |
| error_inject | 98.5% | 95.8% | 99.2% | 97.5% | 95% | ✅ |
| power_mgmt | 94.8% | 90.2% | 96.1% | 93.2% | 95% | ✅ |

---

## 📈 趋势图表

### 通过率趋势

```
Week 01: ████████████████████ 98.5%
Week 02: ███████████████████  97.2%
Week 03: ████████████████████ 98.8%
Week 04: ███████████████████  97.5%
Week 05: ████████████████████ 99.1%
Week 06: ███████████████████  98.0%
```

### 覆盖率趋势

```
          Week 01  Week 02  Week 03  Week 04  Week 05  Week 06
代码覆盖    92.1%    93.5%    94.2%    95.1%    95.8%    96.2%
功能覆盖    88.5%    89.2%    90.1%    91.5%    92.3%    93.1%
断言覆盖    94.2%    95.1%    96.0%    96.8%    97.5%    98.1%
```

---

## 🔴 失败分析

### 失败测试列表

| 测试名称 | 模块 | 层级 | 错误类型 | 错误信息 | 重试次数 |
|----------|------|------|----------|----------|----------|
| cpu_isc_mem_boundary | cpu_isc | stress | 断言失败 | 内存边界检查失败 | 2/2 |
| axi_bridge_burst_max | axi_bridge | functional | 超时 | 仿真挂起 | 1/2 |
| noc_router_deadlock | noc_router | stress | 死锁 | 路由死锁检测 | 2/2 |
| dma_chain_scatter | dma | functional | 断言失败 | 链表遍历错误 | 0/2 |

### 失败原因分类

```
断言失败: 45% ████████████████████░░░░
超时:     30% ██████████████░░░░░░░░░
仿真错误: 15% ████████░░░░░░░░░░░░░░░
其他:     10% █████░░░░░░░░░░░░░░░░░░
```

### 严重失败详情

#### 1. cpu_isc_mem_boundary (严重: 🔴高)

**模块:** cpu_isc  
**测试层级:** stress  
**优先级:** P0  
**错误信息:** 内存边界检查断言失败，地址超出范围

**分析:** 
- 问题在边界条件检查逻辑
- 可能是地址计算溢出问题
- 需要检查地址生成器的边界处理

**建议:**
1. 检查地址计算逻辑中的溢出处理
2. 增加边界值的测试用例
3. 审查地址映射表配置

**相关工单:** DV-2026-001234

#### 2. noc_router_deadlock (严重: 🔴高)

**模块:** noc_router  
**测试层级:** stress  
**优先级:** P0  
**错误信息:** NoC路由死锁检测触发

**分析:**
- 在高负载场景下发生路由死锁
- 可能与优先级仲裁逻辑相关
- 需要检查死锁检测和恢复机制

**建议:**
1. 审查路由器的仲裁算法
2. 增加超时和恢复机制
3. 在仿真中添加资源占用监控

**相关工单:** DV-2026-001235

---

## 📝 测试详情

### 按模块统计

#### CPU_ISC 模块

| 测试名称 | 层级 | 状态 | 时长 | 覆盖率 |
|----------|------|------|------|--------|
| cpu_isc_basic | smoke | ✅ 通过 | 245s | 95.2% |
| cpu_isc_arith | functional | ✅ 通过 | 1820s | 94.8% |
| cpu_isc_logic | functional | ✅ 通过 | 1750s | 93.5% |
| cpu_isc_mem | functional | ✅ 通过 | 1680s | 96.1% |
| cpu_isc_intr | functional | ✅ 通过 | 1200s | 92.5% |
| cpu_isc_boundary | stress | ❌ 失败 | 3600s | 91.2% |
| cpu_isc_random | random | ✅ 通过 | 5200s | 95.8% |

#### AXI_BRIDGE 模块

| 测试名称 | 层级 | 状态 | 时长 | 覆盖率 |
|----------|------|------|------|--------|
| axi_bridge_basic | smoke | ✅ 通过 | 198s | 97.8% |
| axi_bridge_burst | functional | ⚠️ 超时 | 2400s | 94.2% |
| axi_bridge_lock | functional | ✅ 通过 | 1750s | 96.5% |
| axi_bridge_stress | stress | ✅ 通过 | 3500s | 98.1% |
| axi_bridge_random | random | ✅ 通过 | 5100s | 97.5% |

---

## 🎯 质量评估

### 通过标准检查

| 检查项 | 要求 | 实际 | 状态 |
|--------|------|------|------|
| Sanity测试通过率 | 100% | 100% | ✅ 通过 |
| 功能测试通过率 | ≥98% | 97.5% | ⚠️ 警告 |
| 压力测试通过率 | ≥95% | 92.1% | ❌ 未达标 |
| 代码覆盖率 | ≥95% | 96.2% | ✅ 通过 |
| 功能覆盖率 | ≥90% | 93.1% | ✅ 通过 |
| 断言覆盖率 | ≥95% | 98.1% | ✅ 通过 |
| 无严重缺陷 | 0 | 2 | ❌ 未达标 |

### 总体评估

```
综合评分: 85/100 (B级)

优势:
✅ 代码覆盖率达标
✅ 断言覆盖率优秀
✅ 外设模块测试稳定

待改进:
⚠️ CPU边界测试失败
⚠️ NoC压力测试死锁
⚠️ DMA测试覆盖率不足
```

---

## 📋 建议与行动计划

### 立即行动 (本周)

1. 🔴 **修复CPU边界测试失败**
   - 负责人: CPU验证工程师
   - 截止日期: 2026-01-20
   - 工单: DV-2026-001234

2. 🔴 **修复NoC死锁问题**
   - 负责人: NoC验证工程师
   - 截止日期: 2026-01-22
   - 工单: DV-2026-001235

3. ⚠️ **增加DMA测试覆盖率**
   - 负责人: DMA验证工程师
   - 截止日期: 2026-01-25

### 中期改进 (本月)

4. 📈 **优化回归测试执行时间**
   - 目标: 减少20%执行时间
   - 方案: 增加并行度、优化测试用例

5. 📊 **完善覆盖率报告**
   - 添加覆盖率趋势预测
   - 自动化缺陷关联

### 长期优化 (季度)

6. 🔧 **覆盖率优化工具开发**
   - 自动识别覆盖率空洞
   - 智能测试用例生成

7. 🤖 **AI辅助测试生成**
   - 基于机器学习的随机约束优化
   - 自动化回归测试选择

---

## 📎 附件

- 📄 [详细测试日志](logs/)
- 🌊 [波形文件](waves/)
- 📊 [覆盖率数据库](coverage/)
- 📋 [原始测试数据](data/)

---

## 📌 版本信息

| 项目 | 值 |
|------|-----|
| 报告版本 | v1.0 |
| YaoGuang版本 | YaoGuang_v1.0_RC1 |
| DV环境版本 | DV-ENV-2026.01 |
| 报告生成时间 | {timestamp} |
| 报告生成者 | DV自动化系统 |

---

*报告自动生成于 YaoGuang SoC 回归测试框架*
*如有问题请联系: yaoguang-dv-team@company.com*
