# YaoGuang SoC 验证总结报告

**演示版本**: v1.0  
**日期**: 2026-01-18  
**汇报人**: 验证经理

---

## 目录

1. 项目背景
2. 验证策略
3. 验证进度
4. 覆盖率达成
5. 关键指标
6. 风险和对策
7. 下一步计划

---

## 1. 项目背景

### YaoGuang SoC芯片概述

YaoGuang是一款面向高级自动驾驶域控制器的车规级SoC芯片，采用7nm车规工艺制造，旨在为L3/L4级自动驾驶系统提供高性能、高安全性的计算平台。芯片集成多种异构计算单元，具备强大的感知融合和决策规划能力。

### 验证阶段划分

YaoGuang SoC项目采用分层验证策略，分为以下三个主要阶段：

**模块级验证 (DV)** - 当前阶段
- 覆盖范围: 17个独立IP模块
- 验证方法: UVM功能验证 + 覆盖率驱动验证
- 验证目标: 100%功能覆盖率，95%+代码覆盖率
- 输出: DV Sign-off报告

**系统级验证 (CV)**
- 覆盖范围: SoC顶层集成 + 外设子系统
- 验证方法: C语言测试 + FPGA/Emulation
- 验证目标: 完整启动流程，OS启动验证
- 输出: CV Sign-off报告

**后仿真验证**
- 覆盖范围: 时序反标仿真
- 验证方法: SDF反标仿真
- 验证目标: 时序相关缺陷零逃逸
- 输出: 后仿真报告

### DV阶段时间线

DV验证工作于2025年7月正式启动，历时6个月完成全部验证任务。关键里程碑包括：

- **M1 (2025-07)**: 验证环境搭建完成
- **M2 (2025-08)**: 验证计划评审通过
- **M3 (2025-09)**: 首批模块完成验证 (Safety Island, PMU)
- **M4 (2025-10)**: 核心计算模块完成验证 (NPU, CPU)
- **M5 (2025-11)**: 高速接口完成验证 (PCIe, USB, Ethernet)
- **M6 (2025-12)**: 全部模块完成验证，进入回归测试
- **M7 (2026-01)**: 最终覆盖率收敛，Sign-off评审

---

## 2. 验证策略

### 验证方法论

YaoGuang SoC的DV验证严格遵循Universal Verification Methodology (UVM) 1.2标准，结合项目特点进行了定制化扩展。验证策略的核心原则包括：

**覆盖率驱动验证 (Coverage-Driven Verification)**

验证过程以覆盖率为导向，通过覆盖率数据指导测试用例的生成和回归。验证团队定义了覆盖点（Coverage Points）、覆盖组（Coverage Groups）和覆盖模型（Coverage Model），实现验证进展的量化追踪。

**受约束随机验证 (Constrained-Random Verification)**

利用UVM的随机化机制生成大量有效激励，结合约束条件确保测试的合法性和有效性。随机验证与直接测试相结合，既保证功能覆盖的广度，又确保关键场景的深度验证。

**分层验证架构 (Layered Verification Architecture)**

验证环境采用分层架构设计，包括：
- 信号层 (Signal Interface Layer): 抽象底层信号交互
- 事务层 (Transaction Layer): 定义高层事务模型
- 协议层 (Protocol Layer): 实现协议检查和合规验证
- 功能层 (Functional Layer): 实现功能检查和参考模型

### 验证环境架构

```
┌─────────────────────────────────────────────────────────────┐
│                      Testbench Top                           │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │
│  │   Scoreboard │  │   Coverage  │  │   Environment Config │  │
│  └─────────────┘  └─────────────┘  └─────────────────────┘  │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────┐    │
│  │              UVM Verification Environment            │    │
│  │  ┌─────────┐  ┌─────────┐  ┌───────────────────┐   │    │
│  │  │  Agent  │  │  Agent  │  │   Reference Model  │   │    │
│  │  │  #1     │  │  #2     │  │                    │   │    │
│  │  └─────────┘  └─────────┘  └────────────────────┘   │    │
│  │  ┌────────────────────────────────────────────────┐ │    │
│  │  │              DUT (Design Under Test)            │ │    │
│  │  └────────────────────────────────────────────────┘ │    │
│  └─────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────┘
```

### 验证工具链

| 类别 | 工具 | 版本 | 用途 |
|------|------|------|------|
| 仿真器 | Synopsys VCS | 2023.12 | 主仿真平台 |
| 仿真器 | Cadence Xcelium | 23.09 | 交叉验证 |
| 调试 | Synopsys Verdi | 2023.12 | 波形调试 |
| 覆盖率 | Synopsys VCS Coverage | 2023.12 | 覆盖率收集 |
| 验证IP | Synopsys VIP | PCIe/USB/Ethernet | 协议验证 |
| 验证IP | Cadence VIP | I2C/SPI | 外设验证 |
| 回归 | Jenkins | 2.446 | 自动化回归 |
| 缺陷管理 | Jira | 9.x | 缺陷跟踪 |

---

## 3. 验证进度

### 模块完成状态

| 模块 | 验证开始 | 验证完成 | 状态 | 测试用例数 |
|------|----------|----------|------|------------|
| Safety Island | 2025-07-15 | 2025-09-20 | ✓ Complete | 412 |
| NPU Cluster | 2025-08-01 | 2025-10-15 | ✓ Complete | 287 |
| PMU | 2025-07-20 | 2025-09-10 | ✓ Complete | 156 |
| NoC | 2025-08-15 | 2025-10-30 | ✓ Complete | 89 |
| CPU Cluster | 2025-08-20 | 2025-10-25 | ✓ Complete | 178 |
| PCIe | 2025-09-01 | 2025-11-15 | ✓ Complete | 203 |
| Ethernet | 2025-09-10 | 2025-11-20 | ✓ Complete | 134 |
| USB | 2025-09-15 | 2025-11-25 | ✓ Complete | 167 |
| ISP | 2025-09-20 | 2025-11-10 | ✓ Complete | 98 |
| CAN FD | 2025-10-01 | 2025-11-05 | ✓ Complete | 67 |
| Crypto | 2025-10-05 | 2025-11-15 | ✓ Complete | 89 |
| Display | 2025-10-10 | 2025-11-25 | ✓ Complete | 112 |
| Audio | 2025-10-15 | 2025-11-10 | ✓ Complete | 56 |
| Memory | 2025-10-20 | 2025-11-30 | ✓ Complete | 78 |
| L3 Cache | 2025-10-25 | 2025-12-05 | ✓ Complete | 92 |

### 验证进度甘特图

```
2025年    7月    8月    9月    10月   11月   12月   2026年1月
         ├──────┼──────┼──────┼──────┼──────┼──────┼──────┤
Safety   ████████
NPU              ████████████
PMU      ██████████
NoC              ████████████████
CPU               █████████████████
PCIe                     ████████████████
Ethernet                   █████████████████
USB                        ██████████████████
ISP                        ████████████████
CAN FD                          ████████████
Crypto                          ████████████████
Display                         ██████████████████
Audio                           ████████████████
Memory                          ████████████████
L3 Cache                            ████████████████
         ├──────┼──────┼──────┼──────┼──────┼──────┼──────┤
         M1     M2     M3     M4     M5     M6     M7
```

### 资源投入

DV验证阶段累计投入人力资源如下：

| 角色 | 人数 | 人月数 |
|------|------|--------|
| 验证经理 | 1 | 6 |
| DV Lead | 2 | 12 |
| 高级验证工程师 | 4 | 24 |
| 验证工程师 | 8 | 48 |
| 初级验证工程师 | 4 | 24 |
| 验证开发工程师 | 2 | 12 |
| **总计** | **21** | **126** |

---

## 4. 覆盖率达成

### 覆盖率目标vs实际

| 覆盖率类型 | 目标值 | 实际值 | 状态 |
|------------|--------|--------|------|
| 代码行覆盖率 | ≥95% | 97.8% | ✓ Achieved |
| 分支覆盖率 | ≥95% | 96.5% | ✓ Achieved |
| 条件覆盖率 | ≥90% | 93.2% | ✓ Achieved |
| 翻转覆盖率 | ≥85% | 89.7% | ✓ Achieved |
| FSM覆盖率 | ≥95% | 98.1% | ✓ Achieved |
| 功能覆盖率 | ≥95% | 97.3% | ✓ Achieved |
| 断言覆盖率 | ≥90% | 94.6% | ✓ Achieved |

### 覆盖率趋势

覆盖率随验证进展逐步提升，最终收敛至目标值：

```
覆盖率 %
   │
100├──────────────────────────────────────────
   │                              █
 98├───────────────────────────────██████████
   │                          ████
 96├─────────────────────────████
   │                      ████
 94├────────────────────████
   │                 ████
 92├──────────────████
   │           ████
 90├──────────███
   │       ████
 88├──────███
   │   ████
 86├────██
   │  █
 84├───█
   │
   └──────────────────────────────────────────→ 时间
       7月   8月   9月   10月  11月  12月  1月
```

### 各模块覆盖率雷达图

```
                    Safety Island
                        ★
                       /|\
                      / | \
                     /  |  \
            Crypto ★   |   ★ CPU
                   /   |    \
                  /    |     \
           Audio      NoC      PCIe
              ★        |        ★
                       |
                       |
              ISP ─────●────── Ethernet
                ★      |        ★
                       |
              Display ─┴─ Memory
                       ★
```

---

## 5. 关键指标

### 缺陷指标

| 指标 | 数值 | 说明 |
|------|------|------|
| 总发现缺陷数 | 312 | DV阶段全部 |
| P1 Critical | 8 | 已全部修复 |
| P2 High | 47 | 已全部修复 |
| P3 Medium | 189 | 已全部修复 |
| P4 Low | 68 | 已全部修复 |
| 缺陷修复率 | 100% | 全修复 |
| 回归通过率 | 99.2% | 最后一次回归 |
| 缺陷逃逸率 | 0 | CV阶段暂无 |

### 回归测试指标

| 指标 | 数值 |
|------|------|
| 总测试用例数 | 2,847 |
| 单次回归时间 | 4.2小时 |
| 回归频次 | 每日2次 |
| 回归通过率 | 99.2% |
| 峰值并行任务 | 128 |

### 资源效率指标

| 指标 | 数值 |
|------|------|
| 仿真峰值性能 | 120 Kloc/s |
| 平均编译时间 | 12分钟 |
| 平均仿真时间 | 45分钟 |
| 最大仿真规模 | 850万门 |
| 内存峰值使用 | 64GB |

---

## 6. 风险和对策

### 已识别风险及应对

| 风险 | 风险等级 | 应对措施 | 状态 |
|------|----------|----------|------|
| 验证进度延迟 | 中 | 增加资源投入，优化回归效率 | 已缓解 |
| 覆盖率收敛困难 | 高 | 增加定向测试，强化随机约束 | 已解决 |
| 仿真性能瓶颈 | 中 | 采用增量编译，优化测试用例 | 已解决 |
| 跨平台差异 | 低 | 双平台交叉验证，统一覆盖率模型 | 已解决 |

### 残缺项清单

| ID | 描述 | 影响 | 规避方案 | 优先级 |
|----|------|------|----------|--------|
| KN-001 | Audio ASRC抖动 | 低 | 软件校准 | P3 |
| KN-002 | ISP低光照噪声 | 低 | 固件补偿 | P3 |
| KN-003 | Ethernet巨帧延迟 | 极低 | 无需处理 | P4 |
| KN-004 | Crypto GCM气泡 | 极低 | 无需处理 | P4 |

---

## 7. 下一步计划

### CV阶段准入确认

DV Sign-off通过后，芯片将进入SoC级集成验证（CV）阶段。准入条件已全部满足：

- ✓ 所有17个模块DV验证完成
- ✓ 代码覆盖率达标
- ✓ 功能覆盖率100%
- ✓ 全部P1/P2缺陷修复
- ✓ 回归测试稳定通过
- ✓ 验证文档完整归档

### CV阶段计划概要

**CV阶段时间**: 2026年2月 - 2026年6月 (5个月)

**主要验证内容**:
- SoC顶层集成验证
- DDR内存子系统验证
- Boot ROM启动验证
- Linux OS启动验证
- 完整外设功能验证
- 系统性能基准测试

**资源计划**:
- 验证团队: 扩展至28人
- FPGA原型验证: 2套平台
- Emulation: 500M门容量

### 关键里程碑

| 里程碑 | 目标日期 | 主要交付物 |
|--------|----------|------------|
| CV环境就绪 | 2026-02-15 | CV验证环境 |
| 冒烟测试通过 | 2026-03-15 | 基础启动测试 |
| OS启动验证 | 2026-04-15 | Linux启动 |
| 全功能验证 | 2026-05-30 | 全部用例通过 |
| CV Sign-off | 2026-06-30 | CV报告 |

---

## 总结

YaoGuang SoC芯片DV验证工作已圆满完成，全部17个模块达到Sign-off标准，具备进入CV阶段的资格。验证团队将继续以严谨的态度和专业的技术，确保后续验证工作的顺利完成，为芯片的按时流片提供坚实保障。

**DV Sign-off Status: APPROVED ✓**

---

*演示结束，感谢聆听*
